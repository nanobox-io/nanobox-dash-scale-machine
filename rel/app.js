!function t(i,e,s){function n(r,a){if(!e[r]){if(!i[r]){var o="function"==typeof require&&require;if(!a&&o)return o(r,!0);if(d)return d(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[r]={exports:{}};i[r][0].call(h.exports,function(t){var e=i[r][1][t];return n(e?e:t)},h,h.exports,t,i,e,s)}return e[r].exports}for(var d="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t,i,e){var s,n;n=t("jade/slider"),i.exports=s=function(){function t(t,i,e){null==e&&(e=1),this.build(t),this.updateTotal(e),this.cb=i}return t.prototype.build=function(t){var i,e;return i=$(n({})),t.append(i),e=30,this.$body=$("body"),this.$dragger=$(".dragger",i),this.$tracks=$(".tracks"),this.$track=$(".track"),this.$totals=$(".totals"),this.trackWidth=this.$tracks.width(),this.stepSize=this.trackWidth/e,this.$dragger.on("mousedown",function(t){return function(){return t.$body.on("mousemove",function(i){var e,s;return e=(i.pageX-t.$tracks.offset().left)/t.trackWidth,e>1?e=1:0>e&&(e=0),s=Math.round(t.trackWidth*e/t.stepSize),1>s&&(s=1),t.updateTotal(s)}),t.$body.on("mouseup",function(){return t.$body.off("mousemove"),t.$body.off("mouseup")})}}(this))},t.prototype.updateTotal=function(t){var i;if(t!==this.total)return this.total=t,i=t*this.stepSize,this.$dragger.css({left:i+"px"}),this.$track.css({width:i}),this.$totals.text(t),this.cb?this.cb(t):void 0},t}()},{"jade/slider":4}],2:[function(t,i,e){var s,n,d,r,a,o=function(t,i){return function(){return t.apply(i,arguments)}};a=t("jade/specs-selector"),d=t("jade/spec-html"),r=t("jade/spec-kind"),n=t("jade/spec-hover"),i.exports=s=function(){function t(t,i,e){this.$el=t,this.onChangeCb=i,this.activeSpecsId=e,this.changeSelectedSpecs=o(this.changeSelectedSpecs,this),this.build=o(this.build,this),PubSub.publish("STATS.GET_OPTIONS",this.build),this.$node=$(a({})),this.$ram=$(".ram",this.$node),this.$cpu=$(".cpu",this.$node),this.$disk=$(".disk",this.$node),this.$specsHolder=$(".specs",this.$node),this.$specSelector=$(".spec-selector",this.$node),this.$el.append(this.$node)}return t.prototype.build=function(t){var i,e,s,n,d;for(this.setSpecWidthAndHeightScale(t.data),d=t.data.plans,e=0,s=d.length;s>e;e++)n=d[e],i=$(r({title:this.addBreaks(n.meta.title)})),this.$specsHolder.append(i),this.addPlanKind($(".graphs-holder",i),n);return this.$graphs=$(".graph-skin.spec",this.$node),this.top=$(".specs",this.$node).position().top},t.prototype.addPlanKind=function(t,i){var e,s,n,d,r,a,o;for(this.$el=t,r=i.specs,a=[],s=n=0,d=r.length;d>n;s=++n)o=r[s],e=s<i.specs.length?2:0,a.push(this.buildGraph(this.$el,o,e));return a},t.prototype.buildGraph=function(t,i,e){var s,n,r,a,o,c,h;return this.$el=t,o=this.checkForAlternateDisks(i),a=.25*Math.sqrt(i.DISK)*this.graphScale,n=1.2*Math.sqrt(i.CPU)*this.graphScale,h=.6*Math.sqrt(i.RAM)*this.graphScale,c=3,r={isEBS:o,graphWidth:this.graphWidth+e,graphHeight:a+c+n+c+h,topPadding:0,cellWidth:this.graphWidth,diskHeight:a,cpuHeight:n,ramHeight:h},r.disk_y=0,r.cpu_y=r.diskHeight+c,r.ram_y=r.cpu_y+c+r.cpuHeight,r.id=i.id,s=$(d(r)),s.on("mouseover",function(t){return function(){return t.duplicate(s,i)}}(this)),s.on("mouseout",function(t){return function(){return t.destroy()}}(this)),s.on("click",function(t){return function(){return t.onGraphClick(i,s)}}(this)),this.$el.append(s),i.id===this.activeSpecsId?this.onGraphClick(i,s,!0):void 0},t.prototype.changeSelectedSpecs=function(t,i,e){return $(".val",this.$ram).text(t.toLocaleString()),$(".metric",this.$ram).text(" GB RAM"),$(".val",this.$cpu).text(i.toLocaleString()),$(".metric",this.$cpu).text(" CPU CORE"),$(".val",this.$disk).text(e.toLocaleString()),$(".metric",this.$disk).text(" GB DISK")},t.prototype.hideInstructions=function(){return this.$node.addClass("no-instructions")},t.prototype.onGraphClick=function(t,i,e){var s;if(null==e&&(e=!1),!e){if(this.activeSpecsId===t.id)return;this.onChangeCb(t.id),this.$clone.addClass("clicked")}return this.activeSpecsId=t.id,this.changeSelectedSpecs(t.RAM,t.CPU,t.DISK),null!=(s=this.$graphs)&&s.removeClass("selected"),i.addClass("selected")},t.prototype.duplicate=function(t,i){var e,s,d,r,a,o;return r=t.position().left,a=this.top,this.$clone=t.clone(),this.$clone.addClass("cloned-graph"),s={ram:i.RAM.toLocaleString()+" GB",cpu:i.CPU.toLocaleString()+" CORE",disk:i.DISK.toLocaleString()+" GB"},e=$(n(s)),o=8,e.css({left:this.graphWidth+o}),this.$clone.append(e),this.$specSelector.append(this.$clone),d=$(".heighter",t).height(),t.hasClass("selected")&&this.$clone.addClass("clicked"),this.$clone.css({left:r+"px",bottom:61,position:"absolute",height:d,"pointer-events":"none","padding-right":"0",width:"-=1"})},t.prototype.destroy=function(){return $(".cloned-graph").remove()},t.prototype.setSpecWidthAndHeightScale=function(t){var i,e,s,n,d,r,a,o,c,h,l;for(l=0,s=550,e=130,a=8,h=2,c=0,c+=a*(t.plans.length-1),i=this.findBiggestSpec(t.plans),o=t.plans,n=0,d=o.length;d>n;n++)r=o[n],l+=r.specs.length,c+=h*r.specs.length;return this.graphWidth=(s-c)/l,this.graphScale=e/i},t.prototype.findBiggestSpec=function(t){var i,e,s,n,d,r,a,o;for(i=0,e=0,n=t.length;n>e;e++)for(r=t[e],a=r.specs,s=0,d=a.length;d>s;s++)o=a[s],i=this.getBiggest(i,o);return i},t.prototype.getBiggest=function(t,i){var e;return e=.25*Math.sqrt(i.DISK),e+=1.2*Math.sqrt(i.CPU),e+=.5*Math.sqrt(i.RAM),t>e?t:e},t.prototype.checkForAlternateDisks=function(t){return"number"!=typeof t.DISK?(t.DISK=1e3,!0):void 0},t.prototype.addBreaks=function(t){return t.replace(/\s/i,"<br/>")},t}()},{"jade/spec-hover":5,"jade/spec-html":6,"jade/spec-kind":7,"jade/specs-selector":8}],3:[function(t,i,e){var s,n,d;d=t("components/specs-selector"),n=t("components/slider"),s=function(){function t(t,i,e,s,r){this.$el=t,this.activeServerId=i,this.specsSelector=new d(this.$el,e,this.activeServerId),null!=s&&(this.slider=new n(this.$el,s,r))}return t.prototype.hideInstructions=function(){return this.specsSelector.hideInstructions()},t}(),window.nanobox||(window.nanobox={}),nanobox.ScaleMachine=s},{"components/slider":1,"components/specs-selector":2}],4:[function(t,i,e){i.exports=function(t){var i=[];return i.push('<div class="slider"><div class="totals">8</div><div class="drag-holder"><div class="tracks"><div class="track-bg"></div><div class="track"></div><div class="dragger"><div class="hit-area"><div class="handle"></div></div></div></div></div></div>'),i.join("")}},{}],5:[function(t,i,e){i.exports=function(t){var i,e=[],s=t||{};return function(t,s,n){e.push('<div class="spec-hover"><div class="ram"><div class="label">RAM</div><div class="size">'+jade.escape(null==(i=n)?"":i)+'</div></div><div class="cpu"><div class="label">CPU</div><div class="size">'+jade.escape(null==(i=t)?"":i)+'</div></div><div class="disk"><div class="label">DISK</div><div class="size">'+jade.escape(null==(i=s)?"":i)+"</div></div></div>")}.call(this,"cpu"in s?s.cpu:"undefined"!=typeof cpu?cpu:void 0,"disk"in s?s.disk:"undefined"!=typeof disk?disk:void 0,"ram"in s?s.ram:"undefined"!=typeof ram?ram:void 0),e.join("")}},{}],6:[function(t,i,e){i.exports=function(t){var i=[],e=t||{};return function(t,e,s,n,d,r,a,o){i.push("<div"+jade.attr("style","padding-right:"+d+"px",!0,!1)+jade.attr("id",""+r,!0,!1)+jade.attr("data-height",""+n,!0,!1)+' class="graph-skin spec"><div class="heighter"><div'+jade.attr("style","width:"+t+"px; height:"+o+"px;",!0,!1)+' class="ram"></div><div'+jade.attr("style","width:"+t+"px; height:"+e+"px;",!0,!1)+' class="cpu"></div><div'+jade.attr("style","width:"+t+"px; height:"+s+"px;",!0,!1)+jade.cls(["disk",a?"ebs":""],[null,!0])+"></div></div></div>")}.call(this,"cellWidth"in e?e.cellWidth:"undefined"!=typeof cellWidth?cellWidth:void 0,"cpuHeight"in e?e.cpuHeight:"undefined"!=typeof cpuHeight?cpuHeight:void 0,"diskHeight"in e?e.diskHeight:"undefined"!=typeof diskHeight?diskHeight:void 0,"graphHeight"in e?e.graphHeight:"undefined"!=typeof graphHeight?graphHeight:void 0,"graphWidth"in e?e.graphWidth:"undefined"!=typeof graphWidth?graphWidth:void 0,"id"in e?e.id:"undefined"!=typeof id?id:void 0,"isEBS"in e?e.isEBS:"undefined"!=typeof isEBS?isEBS:void 0,"ramHeight"in e?e.ramHeight:"undefined"!=typeof ramHeight?ramHeight:void 0),i.join("")}},{}],7:[function(t,i,e){i.exports=function(t){var i,e=[],s=t||{};return function(t){e.push('<div class="spec-kind"><div class="graphs-holder"></div><div class="title">'+(null==(i=t)?"":i)+"</div></div>")}.call(this,"title"in s?s.title:"undefined"!=typeof title?title:void 0),e.join("")}},{}],8:[function(t,i,e){i.exports=function(t){var i=[],e=t||{};return function(t){i.push('<div class="specs-wrapper"><div class="instructions"> <div class="main">To scale this server, choose one of the following configurations:</div><div class="provider"> Digital Ocean Server Info</div></div><div class="spec-selector"> <div class="specs"><div style="display:none" class="key"><div class="ram-key">RAM</div><div class="cpu-key">CPU</div><div class="disk-key">DISK</div>'),t&&i.push('<div class="ebs-key">EBS</div>'),i.push('</div></div></div><div class="info"><div class="meta"> <div class="title">Server Specs</div></div><div class="vals"><div class="ram"><div class="val"></div><div class="metric"></div></div><div class="cpu"><div class="val"></div><div class="metric"></div></div><div class="disk"> <div class="val"></div><div class="metric"></div></div></div></div></div>')}.call(this,"isAWS"in e?e.isAWS:"undefined"!=typeof isAWS?isAWS:void 0),i.join("")}},{}]},{},[3]);